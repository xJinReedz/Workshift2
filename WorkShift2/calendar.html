<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>WorkShift - Calendar</title>
    <link rel="stylesheet" href="css/shared.css">
    <link rel="stylesheet" href="css/calendar.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <script src="https://apis.google.com/js/api.js"></script>
</head>
<body>
    <!-- Navigation -->
    <nav class="navbar">
        <div class="container">
            <div class="navbar-content">
                <a href="index.html" class="navbar-brand">
                    <i class="fas fa-tasks"></i> WorkShift
                </a>
                
                <ul class="navbar-nav">
                    <li><a href="index.html">Boards</a></li>
                    <li><a href="calendar.html" class="active">Calendar</a></li>
                    <li><a href="inbox.html">Inbox</a></li>
                    <li><a href="pricing.html">Pricing</a></li>
                </ul>
                
                <div class="navbar-actions">
                    <div class="search-container">
                        <i class="fas fa-search search-icon"></i>
                        <input type="text" class="search-input" placeholder="Search events...">
                    </div>
                    
                    <button class="mobile-menu-toggle">
                        <i class="fas fa-bars"></i>
                    </button>
                    
                    <div class="profile-dropdown">
                        <div class="profile-avatar" onclick="openProfileModal()">LT</div>
                    </div>
                </div>
            </div>
        </div>
    </nav>

    <!-- Left sidebar removed (top navigation provides primary navigation) -->

    <!-- Main Content -->
    <main class="main-content">
        <div class="calendar-container">
            <!-- Calendar Header -->
            <div class="calendar-header">
                <h1 class="calendar-title">Calendar</h1>
                
                <div class="calendar-nav">
                    <button class="calendar-nav-btn" id="prev-btn">
                        <i class="fas fa-chevron-left"></i>
                    </button>
                    <div class="calendar-period" id="calendar-period">October 2025</div>
                    <button class="calendar-nav-btn" id="next-btn">
                        <i class="fas fa-chevron-right"></i>
                    </button>
                </div>
                
                <div class="calendar-view-toggle">
                    <button class="view-toggle-btn active" data-view="monthly">Month</button>
                    <button class="view-toggle-btn" data-view="weekly">Week</button>
                    <button class="view-toggle-btn" data-view="daily">Day</button>
                    <button class="view-toggle-btn mobile-only" data-view="agenda" style="display: none;">List</button>
                </div>
            </div>

            <!-- Monthly View -->
            <div class="monthly-view active" id="monthly-view">
                <div class="calendar-grid">
                    <div class="calendar-weekdays">
                        <div class="weekday">Sun</div>
                        <div class="weekday">Mon</div>
                        <div class="weekday">Tue</div>
                        <div class="weekday">Wed</div>
                        <div class="weekday">Thu</div>
                        <div class="weekday">Fri</div>
                        <div class="weekday">Sat</div>
                    </div>
                    
                    <div class="calendar-days" id="calendar-days">
                        <!-- Calendar days will be generated by JavaScript -->
                    </div>
                </div>
            </div>

            <!-- Weekly View -->
            <div class="weekly-view" id="weekly-view">
                <div class="weekly-header">
                    <div class="time-column">Time</div>
                    <div class="weekly-day-header">
                        <div class="weekly-day-number">15</div>
                        <div class="weekly-day-name">Sun</div>
                    </div>
                    <div class="weekly-day-header">
                        <div class="weekly-day-number">16</div>
                        <div class="weekly-day-name">Mon</div>
                    </div>
                    <div class="weekly-day-header">
                        <div class="weekly-day-number">17</div>
                        <div class="weekly-day-name">Tue</div>
                    </div>
                    <div class="weekly-day-header">
                        <div class="weekly-day-number">18</div>
                        <div class="weekly-day-name">Wed</div>
                    </div>
                    <div class="weekly-day-header">
                        <div class="weekly-day-number">19</div>
                        <div class="weekly-day-name">Thu</div>
                    </div>
                    <div class="weekly-day-header">
                        <div class="weekly-day-number">20</div>
                        <div class="weekly-day-name">Fri</div>
                    </div>
                    <div class="weekly-day-header">
                        <div class="weekly-day-number">21</div>
                        <div class="weekly-day-name">Sat</div>
                    </div>
                </div>
                
                <div class="weekly-grid" id="weekly-grid">
                    <!-- Weekly grid will be generated by JavaScript -->
                </div>
            </div>

            <!-- Daily View -->
            <div class="daily-view" id="daily-view">
                <div class="daily-header">
                    <div class="daily-date">27</div>
                    <div class="daily-day-name">Sunday, October 2025</div>
                </div>
                
                <div class="daily-schedule">
                    <div class="daily-time-slot">
                        <div class="daily-time">9:00 AM</div>
                        <div class="daily-events">
                            <!-- Events will be populated by JavaScript -->
                        </div>
                    </div>
                    
                    <div class="daily-time-slot">
                        <div class="daily-time">10:00 AM</div>
                        <div class="daily-events">
                            <!-- Events will be populated by JavaScript -->
                        </div>
                    </div>
                    
                    <div class="daily-time-slot">
                        <div class="daily-time">11:00 AM</div>
                        <div class="daily-events">
                            <!-- Empty time slot -->
                        </div>
                    </div>
                    
                    <div class="daily-time-slot">
                        <div class="daily-time">12:00 PM</div>
                        <div class="daily-events">
                            <!-- Empty time slot -->
                        </div>
                    </div>
                    
                    <div class="daily-time-slot">
                        <div class="daily-time">1:00 PM</div>
                        <div class="daily-events">
                            <!-- Empty time slot -->
                        </div>
                    </div>
                    
                    <div class="daily-time-slot">
                        <div class="daily-time">2:00 PM</div>
                        <div class="daily-events">
                            <!-- Empty time slot -->
                        </div>
                    </div>
                    
                    <div class="daily-time-slot">
                        <div class="daily-time">3:00 PM</div>
                        <div class="daily-events">
                            <!-- Events will be populated by JavaScript -->
                        </div>
                    </div>
                    
                    <div class="daily-time-slot">
                        <div class="daily-time">4:00 PM</div>
                        <div class="daily-events">
                            <!-- Empty time slot -->
                        </div>
                    </div>
                    
                    <div class="daily-time-slot">
                        <div class="daily-time">5:00 PM</div>
                        <div class="daily-events">
                            <div class="daily-event">
                                <div class="daily-event-title">Website Launch Preparation</div>
                                <div class="daily-event-details">Final preparations for website redesign launch</div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Agenda View (Mobile) -->
            <div class="agenda-view" id="agenda-view">
                <div class="agenda-item">
                    <div class="agenda-date">Today - October 27, 2025</div>
                    <div class="agenda-events">
                        <div class="agenda-event">
                            <div class="agenda-event-time">9:00 AM</div>
                            <div class="agenda-event-content">
                                <div class="agenda-event-title">Website Launch Preparation</div>
                                <div class="agenda-event-description">Final preparations for website redesign launch</div>
                            </div>
                        </div>
                        
                        <div class="agenda-event">
                            <div class="agenda-event-time">2:00 PM</div>
                            <div class="agenda-event-content">
                                <div class="agenda-event-title">Analytics Dashboard</div>
                                <div class="agenda-event-description">Deploy new analytics dashboard</div>
                            </div>
                        </div>
                        
                        <div class="agenda-event">
                            <div class="agenda-event-time">5:00 PM</div>
                            <div class="agenda-event-content">
                                <div class="agenda-event-title">Website Launch Preparation</div>
                                <div class="agenda-event-description">Final preparations for website redesign launch</div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="agenda-item">
                    <div class="agenda-date">Tomorrow - October 28, 2025</div>
                    <div class="agenda-events">
                        <div class="agenda-event">
                            <div class="agenda-event-time">12:30 PM</div>
                            <div class="agenda-event-content">
                                <div class="agenda-event-title">Mobile App Beta Launch</div>
                                <div class="agenda-event-description">Launch beta version of mobile app to test users</div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="agenda-item">
                    <div class="agenda-date">Wednesday - October 29, 2025</div>
                    <div class="agenda-events">
                        <div class="agenda-event">
                            <div class="agenda-event-time">3:00 PM</div>
                            <div class="agenda-event-content">
                                <div class="agenda-event-title">Analytics Dashboard</div>
                                <div class="agenda-event-description">Deploy new analytics dashboard for stakeholders</div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="agenda-item">
                    <div class="agenda-date">Thursday - October 30, 2025</div>
                    <div class="agenda-events">
                        <div class="agenda-event">
                            <div class="agenda-event-time">11:00 AM</div>
                            <div class="agenda-event-content">
                                <div class="agenda-event-title">Content Calendar Q4</div>
                                <div class="agenda-event-description">Finalize content calendar for Q4 marketing</div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="agenda-item">
                    <div class="agenda-date">Friday - November 1, 2025</div>
                    <div class="agenda-events">
                        <div class="agenda-event">
                            <div class="agenda-event-time">8:00 AM</div>
                            <div class="agenda-event-content">
                                <div class="agenda-event-title">Website Redesign Launch</div>
                                <div class="agenda-event-description">Official launch of redesigned website</div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <!-- Add Event Button -->
    <button class="add-event-btn" onclick="openModal('event-modal')">
        <i class="fas fa-plus"></i>
    </button>

    <!-- Google Calendar Sync Button -->
    <button class="google-sync-btn" onclick="openModal('google-sync-modal')" title="Sync with Google Calendar">
        <img src="https://upload.wikimedia.org/wikipedia/commons/thumb/a/a5/Google_Calendar_icon_%282020%29.svg/512px-Google_Calendar_icon_%282020%29.svg.png?20221106121915" alt="Google Calendar" class="google-calendar-icon">
    </button>

    <!-- Event Modal -->
    <div id="event-modal" class="modal event-modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>Add New Event</h3>
                <button class="modal-close" onclick="handleEventModalClose(); closeModal(document.getElementById('event-modal'))">&times;</button>
            </div>
            <div class="modal-body">
                <form class="event-form" id="event-form">
                    <div class="form-group">
                        <label class="form-label">Event Title</label>
                        <input type="text" class="form-input" placeholder="Enter event title..." required>
                    </div>
                    
                    <div class="form-group">
                        <label class="form-label">Description</label>
                        <textarea class="form-input" rows="3" placeholder="Event description (optional)"></textarea>
                    </div>
                    
                        <div class="form-row">
                        <div class="form-group">
                            <label class="form-label">Event Date</label>
                            <input type="date" class="form-input" id="event-due-date" required>
                        </div>
                        <div class="form-group">
                            <label class="form-label">Event Time</label>
                            <input type="time" class="form-input" id="event-due-time" required>
                        </div>
                    </div>
                    <div id="event-deadline-validation-error" style="color: #dc3545; font-size: 0.875rem; margin-top: 8px; display: none;"></div>
                </form>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" onclick="handleEventModalClose(); closeModal(document.getElementById('event-modal'))">Cancel</button>
                <button type="submit" class="btn btn-primary" form="event-form">Create Event</button>
            </div>
        </div>
    </div>

    <!-- Google Calendar Sync Modal -->
    <div id="google-sync-modal" class="modal google-sync-modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>Google Calendar Sync</h3>
                <button class="modal-close" onclick="closeModal(document.getElementById('google-sync-modal'))">&times;</button>
            </div>
            <div class="modal-body">
                <div class="sync-status" id="sync-status">
                    <div class="sync-info">
                        <i class="fab fa-google sync-icon"></i>
                        <p>Connect your Google Calendar to sync events between WorkShift and Google Calendar.</p>
                    </div>
                    
                    <div class="sync-options" id="sync-options">
                        <!-- Sync options removed for simplified interface -->
                    </div>
                    
                    <div class="sync-connected" id="sync-connected" style="display: none;">
                        <div class="connected-info">
                            <i class="fas fa-check-circle success-icon"></i>
                            <h4>Connected to Google Calendar</h4>
                            <p>Last sync: <span id="last-sync">Never</span></p>
                        </div>
                        
                        <div class="sync-actions">
                            <button class="btn btn-primary toggle-btn" id="auto-sync-toggle">
                                <i class="fas fa-toggle-off"></i> Auto Sync: OFF
                            </button>
                            <button class="btn btn-secondary" id="disconnect-btn">
                                <i class="fas fa-unlink"></i> Disconnect
                            </button>
                        </div>
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" onclick="closeModal(document.getElementById('google-sync-modal'))">Cancel</button>
                <button type="button" class="btn btn-primary" id="connect-google-btn">
                    <i class="fab fa-google"></i> Connect to Google
                </button>
                <button type="button" class="btn btn-primary" id="save-sync-settings" style="display: none;">
                    Save Settings
                </button>
            </div>
        </div>
    </div>

    <script src="js/database.js"></script>
    <script src="js/api.js"></script>
    <script src="js/shared.js"></script>
    <script src="js/calendar.js"></script>
    <script>
        // Check authentication on page load
        document.addEventListener('DOMContentLoaded', function() {
            if (!window.api.isAuthenticated()) {
                window.location.href = 'login.html';
            }
        });
    </script>
</body>
</html>
